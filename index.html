<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <meta name="description" content="NovaÅŸehir'i sÃ¼rdÃ¼rÃ¼lebilir bir geleceÄŸe taÅŸÄ±yabilir misin? EtkileÅŸimli ÅŸehir planlama simÃ¼lasyonu.">
    <meta name="theme-color" content="#6366f1">
    
    <!-- Mobil Optimizasyon -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="KararLab">
    <meta name="format-detection" content="telephone=no">
    
    <!-- PWA -->
    <meta name="application-name" content="KararLab">
    <meta name="msapplication-TileColor" content="#6366f1">
    <meta name="msapplication-tap-highlight" content="no">
    
    <title>KararLab - NovaÅŸehir SÃ¼rdÃ¼rÃ¼lebilir Åehir SimÃ¼latÃ¶rÃ¼</title>
    
    <!-- YÃ¼kleme Animasyonu Stili -->
    <style>
        #page-loader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 99999;
            transition: opacity 0.5s ease, visibility 0.5s ease;
        }
        
        #page-loader.hidden {
            opacity: 0;
            visibility: hidden;
        }
        
        .loader-content {
            text-align: center;
            color: white;
        }
        
        .loader-logo {
            font-size: 4rem;
            margin-bottom: 1rem;
            animation: pulse 2s ease-in-out infinite;
        }
        
        .loader-title {
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 2rem;
        }
        
        .loader-spinner {
            width: 60px;
            height: 60px;
            border: 4px solid rgba(255, 255, 255, 0.3);
            border-top-color: white;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 1rem;
        }
        
        .loader-text {
            font-size: 1rem;
            opacity: 0.9;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
    </style>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="advanced-styles.css">
    <link rel="stylesheet" href="theme-light.css">
    <link rel="stylesheet" href="mobile-responsive.css">
    <link rel="stylesheet" href="animations.css">
    <link rel="manifest" href="manifest.json">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='0.9em' font-size='90'>ğŸ™ï¸</text></svg>">
</head>
<body>
    <!-- YÃ¼kleme Animasyonu -->
    <div id="page-loader">
        <div class="loader-content">
            <div class="loader-logo">ğŸ™ï¸</div>
            <div class="loader-title">KararLab</div>
            <div class="loader-spinner"></div>
            <div class="loader-text">YÃ¼kleniyor...</div>
        </div>
    </div>

    <!-- Ana Sayfa / Landing Page -->
    <div id="landing-page" class="page active">
        <div class="landing-background">
            <div class="gradient-orb orb-1"></div>
            <div class="gradient-orb orb-2"></div>
            <div class="gradient-orb orb-3"></div>
        </div>
        
        <header class="header">
            <div class="logo">KararLab</div>
            <nav class="nav">
                <button class="theme-toggle" onclick="toggleTheme()" title="Tema DeÄŸiÅŸtir">
                    <span class="theme-icon">ğŸŒ™</span>
                </button>
                <button class="theme-toggle" onclick="toggleSound()" title="Ses AÃ§/Kapat">
                    <span class="sound-icon">ğŸ”Š</span>
                </button>
                <button class="btn-secondary" onclick="showLogin()">GiriÅŸ Yap</button>
                <button class="btn-primary" onclick="showRegister()">KayÄ±t Ol</button>
            </nav>
        </header>

        <section class="hero">
            <div class="hero-badge">ğŸ® EtkileÅŸimli Åehir SimÃ¼latÃ¶rÃ¼</div>
            <h1>NovaÅŸehir'i sÃ¼rdÃ¼rÃ¼lebilir bir geleceÄŸe taÅŸÄ±yabilir misin?</h1>
            <p class="hero-subtitle">Åehir planlama kararlarÄ±nÄ±n etkilerini deneyimle, sÃ¼rdÃ¼rÃ¼lebilirlik becerilerini geliÅŸtir</p>
            <div class="hero-buttons">
                <button class="btn-large btn-primary" onclick="showRegister()">
                    <span>Hemen BaÅŸla</span>
                    <span class="btn-arrow">â†’</span>
                </button>
                <button class="btn-large btn-secondary" onclick="startDemo()">Demo Oyna</button>
            </div>
            <div class="hero-stats">
                <div class="stat-item">
                    <div class="stat-number">3</div>
                    <div class="stat-label">Karar Turu</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number">6</div>
                    <div class="stat-label">GÃ¶sterge</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number">âˆ</div>
                    <div class="stat-label">OlasÄ±lÄ±k</div>
                </div>
            </div>
        </section>

        <section class="features">
            <div class="feature-card stagger-item hover-lift">
                <div class="feature-icon floating">ğŸŒ±</div>
                <h3>SÃ¼rdÃ¼rÃ¼lebilirlik</h3>
                <p>Ã‡evre, ekonomi ve sosyal yaÅŸam dengesini Ã¶ÄŸren</p>
            </div>
            <div class="feature-card stagger-item hover-lift">
                <div class="feature-icon floating">ğŸ™ï¸</div>
                <h3>Åehir Planlama</h3>
                <p>GerÃ§ek ÅŸehir yÃ¶netimi kararlarÄ±nÄ± simÃ¼le et</p>
            </div>
            <div class="feature-card stagger-item hover-lift">
                <div class="feature-icon floating">ğŸ“Š</div>
                <h3>Veriye DayalÄ± Karar</h3>
                <p>GÃ¶stergelerle kararlarÄ±nÄ±n etkisini gÃ¶r</p>
            </div>
            <div class="feature-card stagger-item hover-lift">
                <div class="feature-icon floating">ğŸ‘¥</div>
                <h3>SÄ±nÄ±f Ä°Ã§i Ã‡alÄ±ÅŸma</h3>
                <p>Grup Ã§alÄ±ÅŸmasÄ± ve tartÄ±ÅŸma iÃ§in ideal</p>
            </div>
        </section>

        <section class="cta-section">
            <h2>Ã–ÄŸretmen misiniz?</h2>
            <p>SÄ±nÄ±fÄ±nÄ±z iÃ§in Ã¶zel raporlar ve grup Ã§alÄ±ÅŸmasÄ± Ã¶zellikleri sizi bekliyor</p>
            <button class="btn-large btn-primary" onclick="showRegister()">Ã–ÄŸretmen HesabÄ± OluÅŸtur</button>
        </section>
    </div> <!-- landing-page kapanÄ±ÅŸ -->

    <!-- GiriÅŸ EkranÄ± -->
    <div id="login-page" class="page">
        <div class="auth-background">
            <div class="gradient-orb orb-1"></div>
            <div class="gradient-orb orb-2"></div>
        </div>
        <div class="auth-container">
            <div class="auth-logo">ğŸ™ï¸</div>
            <h2>HoÅŸ Geldiniz</h2>
            <p class="auth-subtitle">KararLab hesabÄ±nÄ±za giriÅŸ yapÄ±n</p>
            <form id="login-form" onsubmit="handleLogin(event)">
                <div class="input-group">
                    <span class="input-icon">ğŸ‘¤</span>
                    <input type="text" id="login-email" placeholder="KullanÄ±cÄ± AdÄ± veya E-posta" required>
                </div>
                <div class="input-group">
                    <span class="input-icon">ğŸ”’</span>
                    <input type="password" id="login-password" placeholder="Åifre" required>
                    <button type="button" class="password-toggle" onclick="togglePassword('login-password')">ğŸ‘ï¸</button>
                </div>
                <label class="checkbox-label">
                    <input type="checkbox" id="remember-me"> 
                    <span>Beni hatÄ±rla</span>
                </label>
                <button type="submit" class="btn-primary btn-full">
                    <span>GiriÅŸ Yap</span>
                    <span class="btn-arrow">â†’</span>
                </button>
                <a href="#" class="link" onclick="showPasswordReset(); return false;">Åifremi unuttum</a>
                <div class="auth-divider">
                    <span>veya</span>
                </div>
                <button type="button" class="btn-secondary btn-full" onclick="showRegister()">Yeni Hesap OluÅŸtur</button>
            </form>
            <button class="btn-text" onclick="showLanding()">â† Ana Sayfaya DÃ¶n</button>
        </div>
    </div>

    <!-- Åifre SÄ±fÄ±rlama EkranÄ± -->
    <div id="password-reset-page" class="page">
        <div class="auth-background">
            <div class="gradient-orb orb-1"></div>
            <div class="gradient-orb orb-2"></div>
        </div>
        <div class="auth-container">
            <div class="auth-logo">ğŸ”‘</div>
            <h2>Åifre SÄ±fÄ±rlama</h2>
            <p class="auth-subtitle">KullanÄ±cÄ± adÄ±nÄ±zÄ± girin ve yeni ÅŸifrenizi belirleyin</p>
            <form id="password-reset-form" onsubmit="handlePasswordReset(event)">
                <div class="input-group">
                    <span class="input-icon">ğŸ‘¤</span>
                    <input type="text" id="reset-email" placeholder="KullanÄ±cÄ± AdÄ±" required>
                </div>
                <div class="input-group">
                    <span class="input-icon">ğŸ”’</span>
                    <input type="password" id="reset-new-password" placeholder="Yeni Åifre (en az 6 karakter)" required minlength="6">
                    <button type="button" class="password-toggle" onclick="togglePassword('reset-new-password')">ğŸ‘ï¸</button>
                </div>
                <div class="input-group">
                    <span class="input-icon">âœ…</span>
                    <input type="password" id="reset-confirm-password" placeholder="Yeni Åifre (Tekrar)" required minlength="6">
                    <button type="button" class="password-toggle" onclick="togglePassword('reset-confirm-password')">ğŸ‘ï¸</button>
                </div>
                <button type="submit" class="btn-primary btn-full">
                    <span>Åifreyi SÄ±fÄ±rla</span>
                    <span class="btn-arrow">â†’</span>
                </button>
            </form>
            <button class="btn-text" onclick="showLogin()">â† GiriÅŸ SayfasÄ±na DÃ¶n</button>
        </div>
    </div>

    <!-- KayÄ±t EkranÄ± -->
    <div id="register-page" class="page">
        <div class="auth-background">
            <div class="gradient-orb orb-1"></div>
            <div class="gradient-orb orb-2"></div>
        </div>
        <div class="auth-container">
            <div class="auth-logo">ğŸ™ï¸</div>
            <h2>Hesap OluÅŸtur</h2>
            <p class="auth-subtitle">KararLab'e katÄ±lÄ±n ve sÃ¼rdÃ¼rÃ¼lebilir ÅŸehirler inÅŸa edin</p>
            <form id="register-form" onsubmit="handleRegister(event)">
                <div class="input-group">
                    <span class="input-icon">ğŸ‘¤</span>
                    <input type="text" id="reg-name" placeholder="Ad Soyad" required>
                </div>
                <div class="input-group">
                    <span class="input-icon">âœ‰ï¸</span>
                    <input type="text" id="reg-email" placeholder="KullanÄ±cÄ± AdÄ± (benzersiz olmalÄ±)" required>
                </div>
                <div class="input-group">
                    <span class="input-icon">ğŸ”’</span>
                    <input type="password" id="reg-password" placeholder="Åifre (en az 6 karakter)" required minlength="6">
                    <button type="button" class="password-toggle" onclick="togglePassword('reg-password')">ğŸ‘ï¸</button>
                </div>
                <div class="input-group">
                    <span class="input-icon">ğŸ­</span>
                    <select id="reg-type" required onchange="toggleTeacherFields()">
                        <option value="">KullanÄ±cÄ± Tipi SeÃ§in</option>
                        <option value="student">ğŸ“ Ã–ÄŸrenci</option>
                        <option value="teacher">ğŸ‘¨â€ğŸ« Ã–ÄŸretmen</option>
                    </select>
                </div>
                <div id="teacher-fields" style="display:none;">
                    <div class="input-group">
                        <span class="input-icon">ğŸ«</span>
                        <input type="text" id="reg-school" placeholder="Okul AdÄ±">
                    </div>
                    <div class="input-group">
                        <span class="input-icon">ğŸ“š</span>
                        <input type="text" id="reg-branch" placeholder="BranÅŸ">
                    </div>
                </div>
                <label class="checkbox-label">
                    <input type="checkbox" required> 
                    <span>KVKK ve <a href="#" onclick="showPrivacyPolicy(); return false;">gizlilik politikasÄ±nÄ±</a> kabul ediyorum</span>
                </label>
                <button type="submit" class="btn-primary btn-full">
                    <span>KayÄ±t Ol</span>
                    <span class="btn-arrow">â†’</span>
                </button>
                <div class="auth-divider">
                    <span>veya</span>
                </div>
                <button type="button" class="btn-secondary btn-full" onclick="showLogin()">Zaten HesabÄ±m Var</button>
            </form>
            <button class="btn-text" onclick="showLanding()">â† Ana Sayfaya DÃ¶n</button>
        </div>
    </div>

    <!-- Ã–ÄŸrenci Paneli -->
    <div id="student-panel" class="page">
        <header class="dashboard-header">
            <div class="logo">KararLab</div>
            <div class="user-info">
                <button class="theme-toggle" onclick="toggleTheme()" title="Tema DeÄŸiÅŸtir">
                    <span class="theme-icon">ğŸŒ™</span>
                </button>
                <span id="student-name"></span>
                <button class="btn-secondary btn-small" onclick="logout()">Ã‡Ä±kÄ±ÅŸ</button>
            </div>
        </header>

        <div class="dashboard-container">
            <div class="profile-card">
                <h3>Profilim</h3>
                <p><strong>KullanÄ±cÄ±:</strong> <span id="profile-name"></span></p>
                <p><strong>Tip:</strong> Ã–ÄŸrenci</p>
                <p><strong>Oynanan Senaryo:</strong> <span id="scenarios-played">0</span></p>
                
                <!-- Seviye Sistemi -->
                <div class="level-display">
                    <div class="level-badge" id="player-level">Seviye 1</div>
                    <div class="xp-container">
                        <div class="xp-info">
                            <span>XP: <span id="current-xp">0</span> / <span id="next-level-xp">100</span></span>
                        </div>
                        <div class="xp-bar-container">
                            <div class="xp-bar" id="xp-bar" style="width: 0%"></div>
                        </div>
                    </div>
                </div>
                
                <div class="badges" id="student-badges">
                    <span class="badge">ğŸ†</span>
                </div>
                
                <!-- HÄ±zlÄ± EriÅŸim ButonlarÄ± -->
                <div class="quick-actions" style="display: flex; gap: 0.5rem; margin-top: 1rem; flex-wrap: wrap;">
                    <button class="btn-small btn-secondary notification-button" onclick="showNotificationCenter()">
                        ğŸ”” Bildirimler
                        <span class="notification-badge" style="display: none;">0</span>
                    </button>
                    <button class="btn-small btn-secondary" onclick="showPersonalStats()">ï¿½ Ä°stlatistikler</button>
                    <button class="btn-small btn-secondary" onclick="showComparison()">âš–ï¸ KarÅŸÄ±laÅŸtÄ±r</button>
                    <button class="btn-small btn-secondary" onclick="showLeaderboard()">ğŸ† Liderlik</button>
                    <button class="btn-small btn-secondary" onclick="showFriendsPanel()">ğŸ‘¥ ArkadaÅŸlar</button>
                    <button class="btn-small btn-secondary" onclick="startQuiz()">ğŸ§  Quiz</button>
                    <button class="btn-small btn-secondary" onclick="showAchievements()">ğŸ¯ BaÅŸarÄ±lar</button>
                    <button class="btn-small btn-primary" onclick="showDailyQuestsPanel()" style="background: var(--gradient-4);">ğŸ“… GÃ¼nlÃ¼k GÃ¶revler</button>
                    <button class="btn-small btn-primary" onclick="showProgressPanel()" style="background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);">ğŸ“ˆ Ä°lerleme</button>
                    <button class="btn-small btn-primary" onclick="showRivalsPanel()" style="background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);">âš”ï¸ Rakipler</button>
                </div>
            </div>

            <div class="scenarios-section">
                <h3>Yeni Senaryo BaÅŸlat</h3>
                <div class="scenario-card" onclick="startScenario('basic')">
                    <h4>NovaÅŸehir - Temel Senaryo</h4>
                    <p>3 ana tur: UlaÅŸÄ±m, YeÅŸil Alan & Ä°mar, Enerji & AtÄ±k</p>
                    <span class="badge-recommended">Ã–nerilen</span>
                </div>
            </div>

            <div class="mini-games-section" style="margin-top: 2rem;">
                <h3>ğŸ® GÃ¼nlÃ¼k Mini Oyunlar</h3>
                <div class="mini-games-grid">
                    <div class="mini-game-card" onclick="showSpinWheel()">
                        <div class="mini-game-status" id="spin-status">ğŸ¡</div>
                        <div class="mini-game-icon">ğŸ¡</div>
                        <div class="mini-game-title">Åans Ã‡arkÄ±</div>
                        <div class="mini-game-desc">Ã‡evir, kazan!</div>
                        <div class="mini-game-reward">50-500 XP</div>
                    </div>
                    <div class="mini-game-card" onclick="showScratchCard()">
                        <div class="mini-game-status" id="scratch-status">ğŸ«</div>
                        <div class="mini-game-icon">ğŸ«</div>
                        <div class="mini-game-title">KazÄ± Kazan</div>
                        <div class="mini-game-desc">Kaz, Ã¶dÃ¼lÃ¼nÃ¼ gÃ¶r!</div>
                        <div class="mini-game-reward">100-500 XP</div>
                    </div>
                    <div class="mini-game-card" onclick="showDailyTrivia()">
                        <div class="mini-game-status">ğŸ§ </div>
                        <div class="mini-game-icon">ğŸ§ </div>
                        <div class="mini-game-title">GÃ¼nlÃ¼k Trivia</div>
                        <div class="mini-game-desc">Bil, kazan!</div>
                        <div class="mini-game-reward">50 XP</div>
                    </div>
                    <div class="mini-game-card" onclick="showReferralPanel()">
                        <div class="mini-game-icon">ğŸ‘¥</div>
                        <div class="mini-game-title">ArkadaÅŸ Davet</div>
                        <div class="mini-game-desc">Davet et, kazan!</div>
                        <div class="mini-game-reward">200 XP/kiÅŸi</div>
                    </div>
                </div>
            </div>

            <div class="classes-section"></div>
                <h3>SÄ±nÄ±fÄ±m</h3>
                <div id="student-class-info"></div>
                <button class="btn-secondary" onclick="showJoinClassModal()">+ SÄ±nÄ±fa KatÄ±l</button>
            </div>

            <div class="reports-section">
                <h3>GeÃ§miÅŸ RaporlarÄ±m</h3>
                <div id="past-reports"></div>
            </div>
        </div>
    </div>

    <!-- Oyun EkranÄ± -->
    <div id="game-screen" class="page">
        <div class="game-container">
            <div class="game-header">
                <div class="logo">KararLab</div>
                <div class="header-actions">
                    <button class="theme-toggle" onclick="toggleTheme()" title="Tema DeÄŸiÅŸtir (T)">
                        <span class="theme-icon">ğŸŒ™</span>
                    </button>
                    <button class="theme-toggle" onclick="toggleGameSound()" title="Ses AÃ§/Kapat (S)">
                        <span id="sound-icon">ğŸ”Š</span>
                    </button>
                    <button class="theme-toggle" onclick="showKeyboardHelp()" title="YardÄ±m (H)">
                        <span>â“</span>
                    </button>
                    <div class="turn-indicator">
                        <span id="current-turn">Tur 0</span>
                    </div>
                </div>
            </div>

            <div class="game-content">
                <div class="game-main">
                    <div id="game-panel"></div>
                </div>

                <div class="indicators-panel">
                    <h3>GÃ¶stergeler</h3>
                    
                    <!-- Yeni: Halk MutluluÄŸu -->
                    <div class="indicator-special">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                            <span style="font-weight: 600;">ğŸ˜Š Halk MutluluÄŸu</span>
                            <span class="indicator-value" id="ind-happiness">%50</span>
                        </div>
                        <div style="background: #e5e7eb; border-radius: 10px; height: 8px; overflow: hidden;">
                            <div id="happiness-bar" style="height: 100%; width: 50%; background: #f59e0b; transition: all 0.5s;"></div>
                        </div>
                        <div id="happiness-trend" style="font-size: 0.75rem; color: #6b7280; margin-top: 0.25rem;"></div>
                    </div>
                    
                    <!-- Yeni: BaÅŸkan DesteÄŸi -->
                    <div class="indicator-special">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                            <span style="font-weight: 600;">ğŸ‘” BaÅŸkan DesteÄŸi</span>
                            <span class="indicator-value" id="ind-support">%50</span>
                        </div>
                        <div style="background: #e5e7eb; border-radius: 10px; height: 8px; overflow: hidden;">
                            <div id="support-bar" style="height: 100%; width: 50%; background: #6366f1; transition: all 0.5s;"></div>
                        </div>
                    </div>
                    
                    <hr style="margin: 1rem 0; border: none; border-top: 1px solid #e5e7eb;">
                    
                    <div class="indicator">
                        <span>Hava Kalitesi</span>
                        <span class="indicator-value" id="ind-air">Orta</span>
                    </div>
                    <div class="indicator">
                        <span>Trafik YoÄŸunluÄŸu</span>
                        <span class="indicator-value" id="ind-traffic">YÃ¼ksek</span>
                    </div>
                    <div class="indicator">
                        <span>YeÅŸil Alan</span>
                        <span class="indicator-value" id="ind-green">%8</span>
                    </div>
                    <div class="indicator">
                        <span>Karbon Emisyonu</span>
                        <span class="indicator-value" id="ind-carbon">YÃ¼ksek</span>
                    </div>
                    <div class="indicator">
                        <span>YaÅŸam Kalitesi</span>
                        <span class="indicator-value" id="ind-quality">Orta</span>
                    </div>
                    <div class="indicator">
                        <span>Ekonomi</span>
                        <span class="indicator-value" id="ind-economy">BÃ¼yÃ¼yen</span>
                    </div>
                    
                    <hr style="margin: 1rem 0; border: none; border-top: 1px solid #e5e7eb;">
                    
                    <!-- Karar GeÃ§miÅŸi -->
                    <div id="decision-history" style="margin-top: 1rem;">
                        <h4 style="font-size: 0.9rem; margin-bottom: 0.5rem; color: var(--text-secondary);">ğŸ“‹ Karar GeÃ§miÅŸi</h4>
                        <div id="history-list" style="font-size: 0.8rem; color: var(--text-secondary);"></div>
                    </div>
                    
                    <!-- Grafik ButonlarÄ± -->
                    <div id="chart-buttons" style="margin-top: 1rem; display: none;">
                        <button class="btn-small btn-secondary" onclick="showHappinessChart()" style="width: 100%; margin-bottom: 0.5rem;">
                            ğŸ“Š Mutluluk GrafiÄŸi
                        </button>
                        <button class="btn-small btn-secondary" onclick="showSupportChart()" style="width: 100%; margin-bottom: 0.5rem;">
                            ğŸ“Š Destek GrafiÄŸi
                        </button>
                        <button class="btn-small btn-secondary" onclick="showQuickStats()" style="width: 100%;">
                            ğŸ“ˆ HÄ±zlÄ± Ä°statistik
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Ã–ÄŸretmen Paneli -->
    <div id="teacher-panel" class="page">
        <header class="dashboard-header">
            <div class="logo">KararLab</div>
            <div class="user-info">
                <button class="theme-toggle" onclick="toggleTheme()" title="Tema DeÄŸiÅŸtir">
                    <span class="theme-icon">ğŸŒ™</span>
                </button>
                <span id="teacher-name"></span>
                <button class="btn-secondary btn-small" onclick="logout()">Ã‡Ä±kÄ±ÅŸ</button>
            </div>
        </header>

        <div class="dashboard-container">
            <div class="profile-card">
                <h3>Ã–ÄŸretmen Paneli</h3>
                <p><strong>Ad:</strong> <span id="teacher-profile-name"></span></p>
                <p><strong>Toplam SÄ±nÄ±f:</strong> <span id="total-classes">0</span></p>
                <p><strong>Toplam Ã–ÄŸrenci:</strong> <span id="total-students">0</span></p>
            </div>

            <div class="classes-section">
                <div class="section-header">
                    <h3>SÄ±nÄ±flarÄ±m</h3>
                    <button class="btn-primary" onclick="showCreateClass()">+ Yeni SÄ±nÄ±f</button>
                </div>
                <div id="classes-list"></div>
            </div>
        </div>
    </div>

    <!-- SÄ±nÄ±f Detay EkranÄ± -->
    <div id="class-detail-page" class="page">
        <header class="dashboard-header">
            <div class="logo">KararLab</div>
            <div class="user-info">
                <button class="theme-toggle" onclick="toggleTheme()" title="Tema DeÄŸiÅŸtir">
                    <span class="theme-icon">ğŸŒ™</span>
                </button>
                <button class="btn-secondary btn-small" onclick="backToTeacherPanel()">â† Geri</button>
                <button class="btn-secondary btn-small" onclick="logout()">Ã‡Ä±kÄ±ÅŸ</button>
            </div>
        </header>

        <div class="dashboard-container">
            <div class="profile-card">
                <h2 id="class-detail-name"></h2>
                <p><strong>SÄ±nÄ±f Kodu:</strong> <span id="class-detail-code"></span> 
                    <button class="btn-small btn-secondary" onclick="copyClassCode()">ğŸ“‹ Kopyala</button>
                </p>
                <p><strong>Ã–ÄŸrenci SayÄ±sÄ±:</strong> <span id="class-detail-student-count">0</span></p>
            </div>

            <div class="classes-section">
                <h3>Ã–ÄŸrenci Listesi</h3>
                <div id="class-students-list"></div>
            </div>

            <div class="classes-section">
                <div class="section-header">
                    <h3>SÄ±nÄ±f RaporlarÄ±</h3>
                    <button class="btn-primary" onclick="downloadClassReport()">ğŸ“¥ PDF Ä°ndir</button>
                </div>
                <div id="class-reports"></div>
            </div>
        </div>
    </div>

    <!-- Admin Paneli -->
    <div id="admin-panel" class="page">
        <header class="dashboard-header">
            <div class="logo">KararLab</div>
            <div class="user-info">
                <button class="theme-toggle" onclick="toggleTheme()" title="Tema DeÄŸiÅŸtir">
                    <span class="theme-icon">ğŸŒ™</span>
                </button>
                <span>Admin Panel</span>
                <button class="btn-secondary btn-small" onclick="logout()">Ã‡Ä±kÄ±ÅŸ</button>
            </div>
        </header>

        <div class="dashboard-container">
            <!-- HÄ±zlÄ± Eylemler -->
            <div class="admin-quick-actions">
                <button class="action-card" onclick="showAdminStats()">
                    <div class="action-icon">ğŸ“Š</div>
                    <div class="action-text">
                        <h4>DetaylÄ± Ä°statistikler</h4>
                        <p>TÃ¼m verileri analiz et</p>
                    </div>
                </button>
                <button class="action-card" onclick="exportAllData()">
                    <div class="action-icon">ğŸ’¾</div>
                    <div class="action-text">
                        <h4>Yedek Al</h4>
                        <p>TÃ¼m verileri indir</p>
                    </div>
                </button>
                <button class="action-card" onclick="importData()">
                    <div class="action-icon">ğŸ“¤</div>
                    <div class="action-text">
                        <h4>Veri YÃ¼kle</h4>
                        <p>Yedekten geri yÃ¼kle</p>
                    </div>
                </button>
                <button class="action-card" onclick="generateSyncCode()">
                    <div class="action-icon">ğŸ”„</div>
                    <div class="action-text">
                        <h4>Senkronize Et</h4>
                        <p>Cihazlar arasÄ±</p>
                    </div>
                </button>
            </div>
            
            <div class="admin-stats">
                <div class="stat-card hover-lift">
                    <div class="stat-icon">ğŸ‘¥</div>
                    <div class="stat-info">
                        <h3 id="admin-total-users" data-count="0">0</h3>
                        <p>Toplam KullanÄ±cÄ±</p>
                    </div>
                </div>
                <div class="stat-card hover-lift">
                    <div class="stat-icon">ğŸ“</div>
                    <div class="stat-info">
                        <h3 id="admin-total-students" data-count="0">0</h3>
                        <p>Ã–ÄŸrenci</p>
                    </div>
                </div>
                <div class="stat-card hover-lift">
                    <div class="stat-icon">ğŸ‘¨â€ğŸ«</div>
                    <div class="stat-info">
                        <h3 id="admin-total-teachers" data-count="0">0</h3>
                        <p>Ã–ÄŸretmen</p>
                    </div>
                </div>
                <div class="stat-card hover-lift">
                    <div class="stat-icon">ğŸ®</div>
                    <div class="stat-info">
                        <h3 id="admin-total-scenarios" data-count="0">0</h3>
                        <p>Oynanan Senaryo</p>
                    </div>
                </div>
            </div>

            <div class="classes-section">
                <div class="section-header">
                    <h3>KullanÄ±cÄ± YÃ¶netimi</h3>
                    <div style="display: flex; gap: 0.5rem; flex-wrap: wrap;">
                        <button class="btn-secondary btn-small" onclick="exportAllData()">ï¿½ TÃ¼m Veriyi Ä°<ndir</button>
                        <button class="btn-secondary btn-small" onclick="importData()">ğŸ“¤ Veri YÃ¼kle</button>
                        <button class="btn-secondary btn-small" onclick="generateSyncCode()">ğŸ”„ Senkronizasyon Kodu</button>
                        <button class="btn-secondary btn-small" onclick="applySyncCode()">ğŸ”— Kod Uygula</button>
                        <button class="btn-secondary btn-small" onclick="exportUsersData()">ğŸ“¥ CSV Ä°ndir</button>
                        <button class="btn-secondary btn-small" onclick="showAdminStats()">ğŸ“Š Ä°statistik</button>
                    </div>
                </div>
                
                <!-- Senkronizasyon Bilgi Kutusu -->
                <div style="background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%); color: white; padding: 1.5rem; border-radius: 12px; margin-bottom: 1.5rem; border-left: 4px solid #d97706;">
                    <h4 style="margin: 0 0 0.5rem 0; display: flex; align-items: center; gap: 0.5rem;">
                        <span style="font-size: 1.5rem;">â„¹ï¸</span>
                        BaÅŸka PC'deki HesaplarÄ± GÃ¶rmek Ä°Ã§in
                    </h4>
                    <p style="margin: 0 0 1rem 0; opacity: 0.95;">
                        Her bilgisayar kendi verilerini saklar. BaÅŸka PC'deki hesaplarÄ± gÃ¶rmek iÃ§in <strong>Senkronizasyon Kodu</strong> kullan:
                    </p>
                    <ol style="margin: 0; padding-left: 1.5rem; opacity: 0.95;">
                        <li><strong>HesaplarÄ±n olduÄŸu PC'de:</strong> "ğŸ”„ Senkronizasyon Kodu" butonuna tÄ±kla, kodu kopyala</li>
                        <li><strong>Bu PC'de:</strong> "ğŸ”— Kod Uygula" butonuna tÄ±kla, kodu yapÄ±ÅŸtÄ±r</li>
                        <li><strong>SonuÃ§:</strong> TÃ¼m hesaplar bu PC'ye aktarÄ±lÄ±r! âœ“</li>
                    </ol>
                </div>
                
                <div id="admin-users-list"></div>
            </div>
        </div>
    </div>

    <!-- SÄ±nÄ±f Kodu GiriÅŸ Modal -->
    <div id="join-class-modal" class="modal">
        <div class="modal-content">
            <h3>SÄ±nÄ±fa KatÄ±l</h3>
            <input type="text" id="join-class-code" placeholder="SÄ±nÄ±f Kodunu Gir (Ã¶rn: KRL-ABC123)" />
            <div class="modal-actions">
                <button class="btn-primary" onclick="joinClass()">KatÄ±l</button>
                <button class="btn-secondary" onclick="closeJoinClassModal()">Ä°ptal</button>
            </div>
        </div>
    </div>

    <script src="cloud-sync.js"></script>
    <script src="theme.js"></script>
    <script src="sound-system.js"></script>
    <script src="animations.js"></script>
    <script src="confetti.js"></script>
    <script src="chart.js"></script>
    <script src="keyboard-shortcuts.js"></script>
    <script src="daily-system.js"></script>
    <script src="daily-rewards.js"></script>
    <script src="achievements.js"></script>
    <script src="shop-system.js"></script>
    <script src="leaderboard.js"></script>
    <script src="streak-system.js"></script>
    <script src="mini-games.js"></script>
    <script src="referral-system.js"></script>
    <script src="daily-quests.js"></script>
    <script src="auto-notifications.js"></script>
    <script src="live-feedback.js"></script>
    <script src="hourly-challenges.js"></script>
    <script src="mobile-optimization.js"></script>
    <script src="addiction-system.js"></script>
    <script src="progress-tracker.js"></script>
    <script src="competitive-system.js"></script>
    <script src="app.js"></script>
    <script src="game-advanced.js"></script>
    <script src="quiz-system.js"></script>
    <script src="social-features.js"></script>
    <script src="statistics.js"></script>
    <script src="notifications.js"></script>
    <script src="admin-features.js"></script>
    
    <!-- YÃ¼kleme Animasyonunu Gizle -->
    <script>
        // Hemen gizle - butonlarÄ± engellemesi iÃ§in
        window.addEventListener('DOMContentLoaded', function() {
            const loader = document.getElementById('page-loader');
            if (loader) {
                setTimeout(function() {
                    loader.classList.add('hidden');
                    loader.style.display = 'none';
                }, 300);
            }
            
            // Debug - FonksiyonlarÄ± kontrol et
            console.log('showLogin:', typeof showLogin);
            console.log('showRegister:', typeof showRegister);
            console.log('showPage:', typeof showPage);
        });
    </script>
</body>
</html>
